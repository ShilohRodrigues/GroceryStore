const dairy = [
    {
        image: "images/dairy/milk1.jpg",
        company: "Natrel",
        name: "1% Fine Filtered Milk",
        price: "$5.19",
        description: "1% finely filtered milk for a pure taste."
    },
    {
        image: "images/dairy/milk2.jpg",
        company: "Natrel",
        name: "2% Fine Filtered Milk",
        price: "$5.19",
        description: "2% finely filtered milk for a pure taste."
    },
    {
        image: "images/dairy/milk3.jpg",
        company: "Natrel",
        name: "3.25% Fine Filtered Milk",
        price: "$5.19",
        description: "3.25% finely filtered milk for a pure taste."
    },
    {
        image: "images/dairy/yogurt.jpg",
        company: "Activia",
        name: "Stirred Vanilla Yogurt",
        price: "$4.29",
        description: "Vanilla yogurt, stirred for a creamier texture."
    },
    {
        image: "images/dairy/yogurt-pack.jpg",
        company: "Yoplait",
        name: "Creamy Duo Assorted Yogurt",
        price: "$5.99",
        description: "Extra creamy yogurt containing two different flavors."
    },
    {
        image: "images/dairy/kraft-singles.jpg",
        company: "Kraft",
        name: "Singles Regular 22 Pack",
        price: "$5.79",
        description: "Individually packaged slices of cheddar cheese."
    },
    {
        image: "images/dairy/cream-cheese.jpg",
        company: "Philadelphia",
        name: "Soft Original Cream Cheese",
        price: "$5.99",
        description: "Original cream cheese without artificial flavors or colors."
    },
    {
        image: "images/dairy/grated-cheese.jpg",
        company: "Saputo",
        name: "Grated Quattro Fromaggi",
        price: "$18.99",
        description: "Contains four types of cheese grated and mixed together."
    },
    {
        image: "images/dairy/whipped-cream.jpg",
        company: "Qu√©bon",
        name: "20% Aerosol Whipped Cream",
        price: "$4.79",
        description: "Whipped cream dispensed by an aerosol canister."
    }
];

const frozen = [
    {
        image: "images/frozen/frozen-strawberries.jpg",
        company: "Compliments",
        name: "Whole Strawberries Frozen Fruit",
        price: "$4.79",
        description: "Frozen whole strawberries in a bag."
    },
    {
        image: "images/frozen/frozen-deluxe-pizza.jpg",
        company: "Mikes",
        name: "All-Dressed Frozen Pizza",
        price: "$7.99",
        description: "Oven baked frozen all-dressed pizza."
    },
    {
        image: "images/frozen/frozen-juice.jpg",
        company: "Minute Maid",
        name: "Fruit Punch Frozen Beverages",
        price: "$1.09",
        description: "Frozen concentrated fruit punch juice base."
    },
    {
        image: "images/frozen/frozen-pasta.jpg",
        company: "Michelina's",
        name: "Penne Pollo Frozen Entree",
        price: "$2.69",
        description: "Penne pollo microwaveable frozen dinner"
    },
    {
        image: "images/frozen/frozen-turkey-dinner.jpg",
        company: "Swanson",
        name: "Turkey Frozen Dinner",
        price: "$4.19",
        description: "Turkey microwaveable frozen dinner."
    },
    {
        image: "images/frozen/frozen-steak-dinner.jpg",
        company: "Hungry Man",
        name: "Salisbury Steak Frozen Entree",
        price: "$5.29",
        description: "Steak microwaveable frozen dinner."
    },
    {
        image: "images/frozen/frozen-mini-pizzas.jpg",
        company: "Plats Du Chef",
        name: "Pepperoni Frozen Pizzettas",
        price: "$3.79",
        description: "Oven baked frozen pepperoni pizzettas."
    },
    {
        image: "images/frozen/frozen-fries.jpg",
        company: "McCain",
        name: "Straight Cut SuperFries",
        price: "$3.99",
        description: "Frozen straight cut superfries."
    },
    {
        image: "images/frozen/vanilla-icecream.jpg",
        company: "Nestle",
        name: "Parlour Vanilla Frozen Dessert",
        price: "$3.99",
        description: "Tub of vanilla ize cream."
    }
];

const meats = [
    {
        image: "images/meat/medium-ground-beef.jpg",
        company: "100g",
        name: "Medium Ground Beef",
        price: "$1.50",
        description: "Freshly cut medium ground beef."
    },
    {
        image: "images/meat/lean-ground-beef.jpg",
        company: "100g",
        name: "Lean Ground Beef",
        price: "$1.72",
        description: "Freshly cut lean ground beef."
    },
    {
        image: "images/meat/extra-lean-ground-beef.jpg",
        company: "100g",
        name: "Extra Lean Ground Beef",
        price: "$1.87",
        description: "Freshly cut extra lean ground beef."
    },
    {
        image: "images/meat/smoked-meat.jpg",
        company: "100g",
        name: "Smoked Meat",
        price: "$3.99",
        description: "Freshly sliced smoked meat."
    },
    {
        image: "images/meat/wine-meat.jpg",
        company: "100g",
        name: "Red wine Beef",
        price: "$4.85",
        description: "Freshly cut red wine beef."
    },
    {
        image: "images/meat/tourtiere.jpg",
        company: "Plaisirs Gastronomiques",
        name: "Meat Pie",
        price: "$12.29",
        description: "Packaged meat pie."
    },
    {
        image: "images/meat/maple-beef.jpg",
        company: "170g",
        name: "Maple Ground Beef Patties",
        price: "$3.74",
        description: "Fershly cut maple ground beef patties."
    },
    {
        image: "images/meat/pork-beef-sausage.jpg",
        company: "Lafleur",
        name: "Pork Beef Sausage",
        price: "$5.49",
        description: "Packaged pork beef sausages."
    },
    {
        image: "images/meat/salami-deli-meat.jpg",
        company: "Marcangelo",
        name: "Salami Deli Meat",
        price: "$6.79",
        description: "Sliced deli salami."
    }
];

const produce = [
    {
        image: "images/produce/smith-apples.jpg",
        company: "180g",
        name: "Granny Smith Apples",
        price: "$1.19",
        description: "Fresh granny smith apples."
    },
    {
        image: "images/produce/honeycrisp-apples.jpg",
        company: "180g",
        name: "Honeycrisp Apples",
        price: "$1.58",
        description: "Fresh honeycrisp apples."
    },
    {
        image: "images/produce/bananas.jpg",
        company: "210g",
        name: "Bananas",
        price: "$0.37",
        description: "Fresh bananas."
    },
    {
        image: "images/produce/blueberries.jpg",
        company: "170g",
        name: "Blueberries",
        price: "$4.99",
        description: "Fresh blueberries in a clam shell."
    },
    {
        image: "images/produce/celery.jpg",
        company: "450g",
        name: "Celery",
        price: "$3.29",
        description: "Fresh celery."
    },
    {
        image: "images/produce/green-lettuce.jpg",
        company: "360g",
        name: "Green Leaf Lettuce",
        price: "$2.49",
        description: "Fresh green leaf lettuce."
    },
    {
        image: "images/produce/romaine-lettuce.jpg",
        company: "360g",
        name: "Romaine Lettuce",
        price: "$4.99",
        description: "Fresh romaine lettuce."
    },
    {
        image: "images/produce/broccoli.jpg",
        company: "250g",
        name: "Broccoli",
        price: "$3.99",
        description: "Fresh broccoli flowers."
    },
    {
        image: "images/produce/strawberries.jpg",
        company: "454g",
        name: "Strawberries",
        price: "6.99",
        description: "Fresh strawberries in a clam shell."
    }
];

const snacks = [
    {
        image: "images/snack/kit-kat.jpg",
        company: "Nestle",
        name: "Kit Kat Single Chocolate Bar",
        price: "$1.39",
        description: "Single kit kat chocolate bar."
    },
    {
        image: "images/snack/aero.jpg",
        company: "Nestle",
        name: "Aero Single Chocolate Bar",
        price: "$1.39",
        description: "Single aero chocolate bar."
    },
    {
        image: "images/snack/doritos-original.jpg",
        company: "Doritos",
        name: "Nacho Cheese Tortilla Chips",
        price: "$4.29",
        description: "Nacho cheese Doritos tortilla chips."
    },
    {
        image: "images/snack/doritos-zesty.jpg",
        company: "Doritos",
        name: "Zesty Cheese Tortilla Chips",
        price: "$4.29",
        description: "Zesty cheese Doritos tortilla chips."
    },
    {
        image: "images/snack/doritos-chili.jpg",
        company: "Doritos",
        name: "Sweet Chili Heat Tortilla Chips",
        price: "$4.29",
        description: "Sweet chili heat Doritos tortilla chips."
    },
    {
        image: "images/snack/lays-original.jpg",
        company: "Lay's",
        name: "Classic Potato Chips",
        price: "$3.29",
        description: "Classic Lay's potato chips."
    },
    {
        image: "images/snack/lays-ketchup.jpg",
        company: "Lay's",
        name: "Ketchup Potato Chips",
        price: "$3.29",
        description: "Ketchup Lay's potato chips."
    },
    {
        image: "images/snack/lays-vinegar.jpg",
        company: "Lay's",
        name: "Salt & Vinegar Potato Chips",
        price: "$3.29",
        description: "Salt & vinegar Lay's potato chips."
    },
    {
        image: "images/snack/lays-bbq.jpg",
        company: "Lay's",
        name: "BBQ Potato Chips",
        price: "$3.29",
        description: "Barbecue Lay's potato chips."
    }
]

const health = [
    {
        image: "images/health/hand-cream.jpg",
        company: "O'Keeffe's",
        name: "O'Keeffe's Working Hands Cream",
        price: "$8.97",
        description: "Concentrated hand cream for cracked hands."
    },
    {
        image: "images/health/toothbrush.jpg",
        company: "Oral-B",
        name: "Cavity Defense Toothbrush, Medium",
        price: "$5.96",
        description: "Medium stiffness toothbrush pack."
    },
    {
        image: "images/health/toothpaste.jpg",
        company: "Crest",
        name: "Cavity Protection Toothpast Gel",
        price: "$1.79",
        description: "Cool mint cavity protection toothpaste gel."
    },
    {
        image: "images/health/deodorant-male.jpg",
        company: "Old Spice",
        name: "Pure Sport High Endurance Deodorant",
        price: "$3.47",
        description: "Resistant deodorant for men."
    },
    {
        image: "images/health/deodorant-female.jpg",
        company: "Lady Speed Stick",
        name: "Antipersprant Deodorant, Strawberry Splash",
        price: "$3.97",
        description: "Fresh infusions, strawberry splash female deodorant."
    },
    {
        image: "images/health/tampax.jpg",
        company: "Tampax",
        name: "Super plus Absorbency Tampons",
        price: "$7.77",
        description: "Super plus absorbency tampons."
    },
    {
        image: "images/health/shaving-cream.jpg",
        company: "Gillette",
        name: "Foamy Sensitive Skin Shaving Cream",
        price: "$2.67",
        description: "Foamy shaving cream for sensitive skin."
    },
    {
        image: "images/health/razor-men.jpg",
        company: "Gillette",
        name: "Fusion5 ProGlide Razor",
        price: "$9.97",
        description: "Fusion5 ProGlide razor for men."
    },
    {
        image: "images/health/razor-women.jpg",
        company: "Gillette",
        name: "Venus ComfortGlide White Tea Razor",
        price: "$11.97",
        description: "Venus ComfortGlife white tea razor for women."
    },
]

const outdoors = [
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/91RmQzKenOL._AC_SL1500_.jpg",
        name: "HotHands Hand Warmers",
        price: "$23.50",
        description: "Long Lasting Safe Natural Odorless Air Activated Warmers " 
        
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/713yoywpMVL._AC_SL1500_.jpg",
        name: "LED Camping Lantern",
        price: "$22.25",
        description: "Super Bright Portable Survival Lanterns, Must Have During Hurricane"
        
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/71smqRr0pmL._AC_SL1500_.jpg",
        name: "Fitbit Charge 4",
        price: "$16.97",
        description: "Fitness and Activity Tracker with Built-in GPS, Heart Rate, Sleep & Swim Tracking."
        
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/71E6NYbf24L._AC_SL1000_.jpg",
        name: "OutdoorMaster OTG Ski Goggles",
        price: "$27.99",
        description: "Over Glasses Ski/Snowboard Goggles for Men, Women & Youth - 100% UV Protection"
        
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/91nMKn2QZxL._AC_SL1500_.jpg",
        name: "Curad Assorted Bandages",
        price: "$9.99",
        description: "Variety Pack 300 Pieces"
        
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/81617EXxu9L._AC_SL1500_.jpg",
        name: "Yaktrax Walk",
        price: "$19.99",
        description: "Traction Cleats for Walking on Snow and Ice (1 Pair)"
        
    },
    {
        image : "https://images-na.ssl-images-amazon.com/images/I/81IsUQWDyFL._AC_SL1500_.jpg",
        name: "GCI Outdoor Freestyle Rocker",
        price: "$59.99",
        description: "Portable Folding Rocking Chair"
        
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/91pdA1mUr3L._SL1500_.jpg",
        name: "Ziploc Sandwich Bags",
        price: "$8.97",
        description: "New Grip 'n Seal Technology, XL, 30 Count, Pack of 3 (90 Total Bags)"
        
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/71qIVOdsPKL._AC_UX569_.jpg",
        name: "Snowboard Cargo Pants",
        price: "$79.99",
        description: "Arctix Men's Mountain Premium Snowboard Cargo Pants"
        
    },
    {
        image : "https://images-na.ssl-images-amazon.com/images/I/61hZMnfhqVL._AC_UX679_.jpg",
        name: "B BINMEFVN Polar Fleece Neck Warmer",
        price: "$11.99",
        description: "Windproof Winter Neck Gaiter Cold Weather Face Mask for Men Women - 1 Pack"
        
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/61iJcBgbUtL._AC_UY695_.jpg",
        name: "FAGUMA Polarized Sports Sunglasses",
        price: "$16.87",
        description: "ffering 100% UV Protection,eliminate reflected light and scattered light."
        
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/712SlfqoT9L._AC_SL1500_.jpg",
        name: "Premium Padded Ski Bag for Air Travel ",
        price: "$59.87",
        description: "Single Ski Carry Bags for Cross Country."
        
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/710biJICRHL._AC_SL1000_.jpg",
        name: "OutdoorMaster Boot Bag",
        price: "$49.99",
        description: "Ski Boots and Snowboard Boots Bag, Excellent for Travel"
        
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/81SlLG7ApkL._AC_SL1500_.jpg",
        name: "Retrospec H4 Ski & Snowboard Helmet with 9 Vents",
        price: "$39.04",
        description: "9 vents for ultimate temperature regulation."
        
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/715RkYLFOIL._AC_SL1500_.jpg",
        name: "(3 Pack) White Athletic Sports Tape",
        price: "$13.99",
        description: "VERY Strong EASY Tear NO Sticky Residue BEST TAPE for Athlete & Medical Trainers. "
        
    }
    
];

const household = [
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/71IdKRlm8%2BL._AC_SL1417_.jpg",
        name: "48 Pack AA High-Performance Alkaline Batteries",
        price: "$15.49",
        description: "AA 1.5-volt performance alkaline batteries "
        
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/71bgaMKkxUL._AC_SL1026_.jpg",
        name: "Presto!",
        price: "$22.25",
        description: "308-Sheet Mega Roll Toilet Paper, Ultra-Soft, 24 Count"
        
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/81L%2BoCXRrLL._AC_SL1500_.jpg",
        name: "Cascade Complete Dishwasher Pods",
        price: "$16.97",
        description: "ActionPacs Detergent, Fresh Scent, 78 Count"
        
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/41ilplpdAdL._AC_.jpg",
        name: "Kleenex",
        price: "$3.89",
        description: "Everyday 9 x Pocket Tissues Packs - 8 Packs Included"
        
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/81GH4avveFL._AC_SL1500_.jpg",
        name: "Dixie Everyday Paper Plates",
        price: "$19.99",
        description: " 10 1/16\" Plate,, Dinner Size Printed Disposable"
        
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/61EGQtMTUTL._AC_SL1500_.jpg",
        name: "Conair Defuzzer/Shaver",
        price: "$12.99",
        description: "Battery Operated Fabric Defuzzer/Shaver, White, Regular"
        
    },
    {
        image : "https://images-na.ssl-images-amazon.com/images/I/81UxrpZXUsL._AC_SL1500_.jpg",
        name: "Swiffer Sweeper",
        price: "$14.99",
        description: "Dry + Wet All Purpose Floor Mopping and Cleaning Starter Kit"
        
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/91pdA1mUr3L._SL1500_.jpg",
        name: "Ziploc Sandwich Bags",
        price: "$8.97",
        description: "New Grip 'n Seal Technology, XL, 30 Count, Pack of 3 (90 Total Bags)"
        
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/71pTvh7Lp0L._AC_SL1500_.jpg",
        name: "Downy Infusions",
        price: "$13.88",
        description: "Liquid Fabric Conditioner (Fabric Softener)"
        
    },
    {
        image : "https://images-na.ssl-images-amazon.com/images/I/81ZaumEwXlL._AC_SL1500_.jpg",
        name: "Mrs. Meyer's Clean Day Liquid Hand Soap",
        price: "$10.35",
        description: "Cruelty Free and Biodegradable Formula, Honeysuckle Scent, 12.5 oz- Pack of 3"
        
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/51PFG%2BCxS7L._AC_SL1000_.jpg",
        name: "RONXS Lighters",
        price: "$15.99",
        description: "Candle Lighter Electric Lighter Grill Lighter USB Lighter Plasma Lighter R"
        
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/71VJVjdkMZL._AC_SL1500_.jpg",
        name: "Dishwashing Cleaning Gloves",
        price: "$12.99",
        description: "Reusable Dishwashing Cleaning Gloves with Latex free"
        
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/81TWEkH5htL._AC_SL1500_.jpg",
        name: "Trash Bags",
        price: "$8.99 ",
        description: "Hefty Recycling Trash Bags, Clear, 13 Gallon, 60 Count"
        
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/51y-NudAJDL._AC_SL1001_.jpg",
        name: "LED Refrigerator Light Bulb",
        price: "$11.99",
        description: "LED Refrigerator Light Bulb 40W Equivalent 120V"
        
    },
    {
        image: "https://images-na.ssl-images-amazon.com/images/I/81sI0PpnKoL._AC_SL1380_.jpg",
        name: "Makerstep Wooden Toothpicks",
        price: "$5.89",
        description: "1000 Pieces Ornate Handle, Sturdy Cocktail Picks"
        
    }
    
];
let products = [];

function makeTable(aisle) {
    let table = document.getElementById("product-table"),
        template = document.getElementById("cell-template");
    
    if (aisle === 'dairy') {
        products = dairy;
    } else if (aisle === 'frozen') {
        products = frozen;
    } else if (aisle === 'meats') {
        products = meats;
    } else if (aisle === 'produce') {
        products = produce;
    } else if (aisle === 'snacks') {
        products = snacks;
    } else if (aisle === 'health') {
        products = health;
    }
      else  if (aisle === 'outdoors'){
          products = outdoors;
    }
      else if (aisle === 'household'){
          products = household;
    }
    
    let rowCounter = 0,
        row = table.insertRow(rowCounter++);
    for (i in products) {
        if (i % 3 == 0 && i != 0) {
            row = table.insertRow(rowCounter++);
        }

        // Get references to tags.
        let newCell = template.content.cloneNode(true).children[0],
            image = newCell.children[0],
            company = newCell.children[1],
            name = newCell.children[2],
            price = newCell.children[3];
        
        let newModal = document.getElementById("modal").content.cloneNode(true).children[0],
            imageModal = newModal.children[0].children[0],
            nameModal = newModal.children[1].children[1],
            companyModal = newModal.children[1].children[2],
            description = newModal.children[1].children[3],
            modalPrice = newModal.children[1].children[4],
            modalInfo = newModal.children[1].children[5],
            modalTotal = newModal.children[1].children[6];
            
        image.src = imageModal.src = products[i].image;
        company.textContent = companyModal.textContent = products[i].company;
        name.textContent = nameModal.textContent = products[i].name;
        price.textContent = modalPrice.textContent = products[i].price;
        description.textContent = products[i].description;
        modalInfo.href = products[i].info;
        modalTotal.textContent = "Total value: $0";


        document.body.appendChild(newModal);

        row.appendChild(newCell);
    }
    setListeners();
}

function setListeners() {

    // Makes product info popup appear on click of a product cell.
    let items = document.querySelectorAll(".product-cell");
    for (let i = 0; i < items.length; i++) {
        items[i].addEventListener("click", function() {
        document.getElementsByClassName("modal-box")[i].style.visibility = 'visible';
        //Stores current opened modal locally
         var iteminfo = {description: document.querySelectorAll('.modal-description')[i].innerHTML,image:document.querySelectorAll('.modal-img')[i].src,name:document.querySelectorAll('.modal-name')[i].innerHTML,price:document.querySelectorAll('.modal-price')[i].innerHTML}
        console.log(iteminfo);
        localStorage.setItem('currentModal', JSON.stringify(iteminfo)); 
        });
    }

    // Closes product info popup on click of "x".
    var totalprice = document.getElementsByClassName("modal-price-total");
    let modalItems = document.getElementsByClassName("modal-exit");
    for (let i = 0; i < modalItems.length; i++) {
        modalItems[i].addEventListener("click", function() {
            document.getElementsByClassName("modal-box")[i].style.visibility = 'hidden';
            value[i].value = 0;
            totalprice[i].innerHTML = "Total value: $0";
        })
    }

    // Sets the modification to quantity and add to cart in popup.
    let decrease = document.getElementsByClassName("decrease"),
        value = document.getElementsByClassName("amount"),
        increase = document.getElementsByClassName("increase"),
        addCart = document.getElementsByClassName("add");
        total = document.getElementsByClassName("modal-price-total");
    for (let i = 0; i < value.length; i++) {
        decrease[i].addEventListener("click", function() { // Decrease amount by 1.
            if (value[i].value > 0) {
                value[i].value--;
                let pricetot = value[i].value * parseFloat(products[i].price.substring(1));
                total[i].innerHTML = "Total value: $"  + pricetot.toFixed(2);
            }
        })
        increase[i].addEventListener("click", function() { // Increase amount by 1.
            value[i].value++;
            let pricetot = value[i].value * parseFloat(products[i].price.substring(1));
            total[i].innerHTML = "Total value: $"  + pricetot.toFixed(2);
        })
        addCart[i].addEventListener("click", function() {
            document.getElementsByClassName("modal-box")[i].style.visibility = 'hidden';
            value[i].value = 0;
        })
    }
    //adds items to cart
    var addToCart = document.querySelectorAll('.add');
    var inCart = [];
    var quantity;
    var itemprice = document.getElementsByClassName("modal-price");
    for (let i = 0; i<addToCart.length; i++){
        addToCart[i].addEventListener('click',function(){
            localStorage.setItem('quantity',0);    
            quantity = (parseFloat(totalprice[i].innerHTML.substring(14))/parseFloat(itemprice[i].innerHTML.substring(1))).toFixed(0);
            if (quantity==0)
                quantity=1;
            console.log(quantity);
           
    localStorage.setItem('quantity', parseInt(localStorage.getItem('quantity'))+parseInt(quantity))
    let product = JSON.parse(localStorage.getItem('currentModal'));
        product.quantity = localStorage.getItem('quantity');
    localStorage.removeItem('quantity');
    
    
    if (localStorage.getItem('insideCart')!= null){
        inCart = JSON.parse(localStorage.getItem('insideCart'));
    }
    var counter = 0;
    for ( let i =0;i<inCart.length;i++){
        if (product.name == inCart[i].name){
            inCart[i].quantity = parseInt(inCart[i].quantity)+ parseInt(product.quantity);
            counter = counter +1;
        }
    }
    if (counter == 0 ){
        inCart.push(product);
    }
    if (inCart[0] == undefined){
        inCart.push(product);
    }
    localStorage.setItem('insideCart', JSON.stringify(inCart));
 });
}
}